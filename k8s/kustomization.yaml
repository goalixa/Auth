apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - namespace.yaml
  - configmap.yaml
  - pvc.yaml
  - deployment.yaml
  - service.yaml
  - ingress.yaml

images:
  - name: ghcr.io/goalixa/goalixa-auth
    newName: harbor.goalixa.com/goalixa-auth/auth
    newTag: latest  # Change this to specific commit SHA for each deployment

# Secret is managed separately - create using:
# kubectl create secret generic auth-secrets \
#   --from-literal=GOOGLE_CLIENT_ID=<your-client-id> \
#   --from-literal=GOOGLE_CLIENT_SECRET=<your-client-secret> \
#   --from-literal=JWT_SECRET=<your-jwt-secret> \
#   -n goalixa-auth
